{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/christopher/Desktop/chess-retro/app/puzzles/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback, useRef } from \"react\";\nimport { Chess } from \"chess.js\";\nimport { Chessboard } from \"react-chessboard\";\n\ninterface Puzzle {\n  id: string;\n  fen: string;\n  moves: string[];\n  rating: number;\n  themes: string[];\n}\n\ntype Difficulty = \"easy\" | \"medium\" | \"hard\" | \"master\";\n\n// Real Lichess puzzles - sourced from lichess.org puzzle database\n// Each puzzle can be viewed at https://lichess.org/training/{id}\n\nconst PUZZLES: Record<Difficulty, Puzzle[]> = {\n  easy: [\n    // Mate in 1 and simple tactics (400-900 rating)\n    { id: \"00465\", fen: \"3r1Q1k/pp4pp/2p5/6q1/5R2/2P5/P1P2PPP/3rR1K1 b - - 8 27\", moves: [\"d8f8\", \"f4f8\"], rating: 574, themes: [\"backRankMate\", \"mateIn1\"] },\n    { id: \"001KR\", fen: \"6Qk/p1p3pp/4N3/1p6/2q1r1n1/2B5/PP4PP/3R1R1K b - - 0 28\", moves: [\"h8g8\", \"f1f8\"], rating: 552, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"007fJ\", fen: \"8/1P3ppp/8/8/8/2pk3P/3p2P1/3K4 w - - 0 52\", moves: [\"b7b8q\", \"c3c2\"], rating: 530, themes: [\"advancedPawn\", \"mateIn1\"] },\n    { id: \"002vV\", fen: \"8/6k1/2R4p/5p1P/5P1K/6P1/8/r7 w - - 2 58\", moves: [\"c6b6\", \"a1h1\"], rating: 497, themes: [\"mateIn1\", \"rookEndgame\"] },\n    { id: \"004iZ\", fen: \"r2r2k1/2q1bpp1/3p1n1p/1ppN4/1P1BP3/P5Q1/4RPPP/R5K1 b - - 1 20\", moves: [\"f6d5\", \"g3g7\"], rating: 462, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"0030b\", fen: \"6k1/5ppp/5nb1/pp6/6rP/5N1Q/Pq2r1P1/3R2RK b - - 4 32\", moves: [\"g6e4\", \"d1d8\", \"f6e8\", \"d8e8\"], rating: 605, themes: [\"backRankMate\", \"mateIn2\"] },\n    { id: \"008LD\", fen: \"8/6pp/4N1k1/5p2/5P2/5rPb/4R2P/6K1 w - - 0 35\", moves: [\"e6g5\", \"f3f1\"], rating: 404, themes: [\"mateIn1\", \"endgame\"] },\n    { id: \"002GQ\", fen: \"5rk1/5ppp/4p3/4N3/8/1Pn5/5PPP/5RK1 w - - 0 28\", moves: [\"f1c1\", \"c3e2\", \"g1f1\", \"e2c1\"], rating: 654, themes: [\"fork\", \"endgame\"] },\n    { id: \"00656\", fen: \"7r/ppp2kp1/2nb1pp1/3p3r/3P2q1/2PQB2P/PP3PP1/R3R1K1 w - - 0 18\", moves: [\"h3g4\", \"h5h1\"], rating: 641, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"001gi\", fen: \"r6r/1pNk1ppp/2np4/b3p3/4P1b1/N1Q5/P4PPP/R3KB1R w KQ - 3 18\", moves: [\"c7a8\", \"a5c3\"], rating: 820, themes: [\"mateIn1\", \"hangingPiece\"] },\n    { id: \"001om\", fen: \"5r1k/pp4pp/5p2/1BbQp1r1/6K1/7P/1PP3P1/3R3R w - - 2 26\", moves: [\"g4h4\", \"c5f2\", \"g2g3\", \"f2g3\"], rating: 876, themes: [\"mateIn2\", \"middlegame\"] },\n    { id: \"001pC\", fen: \"r4rk1/pp3ppp/3b4/2p1pPB1/7N/2PP3n/PP4PP/R2Q1RqK w - - 5 18\", moves: [\"f1g1\", \"h3f2\"], rating: 876, themes: [\"mateIn1\", \"smotheredMate\"] },\n    { id: \"002CP\", fen: \"r5k1/pp4pp/4p1q1/4p3/3n4/P5P1/1PP2Q1P/2KR1R2 w - - 4 24\", moves: [\"f2e3\", \"g6c2\"], rating: 925, themes: [\"mateIn1\", \"endgame\"] },\n    { id: \"002HE\", fen: \"1qr2rk1/1p1p1ppp/pB2p1n1/7n/2P1P3/1Q2NP1P/PP2B1Pb/3R1RK1 w - - 1 20\", moves: [\"g1f2\", \"b8g3\"], rating: 870, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"002Q2\", fen: \"7k/p4R1p/3p3r/2pN1n2/2PbBBb1/3P2P1/P3r3/5R1K w - - 1 28\", moves: [\"f4h6\", \"f5g3\"], rating: 842, themes: [\"mateIn1\", \"cornerMate\"] },\n    { id: \"003AX\", fen: \"2r2rk1/5ppp/bq2p3/p1ppP1N1/Pb1P2P1/1P2P2P/2QN4/2R1K2R b K - 1 18\", moves: [\"c5d4\", \"c2h7\"], rating: 869, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"003YF\", fen: \"r4rk1/1pp2ppp/p2p4/2bPp3/2P1Pn1q/P1N2B2/1P3P2/R1BQK1R1 w Q - 1 15\", moves: [\"c1f4\", \"h4f2\"], rating: 900, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"000rZ\", fen: \"2kr1b1r/p1p2pp1/2pqb3/7p/3N2n1/2NPB3/PPP2PPP/R2Q1RK1 w - - 2 13\", moves: [\"d4e6\", \"d6h2\"], rating: 923, themes: [\"mateIn1\", \"opening\"] },\n    { id: \"003jb\", fen: \"r3kb1r/pppp1ppp/2n2n2/4p2Q/2B1P2q/8/PPPP1PPP/RNB1K1NR w KQkq - 0 1\", moves: [\"h5f7\", \"e8d8\", \"f7f6\"], rating: 880, themes: [\"fork\", \"attack\"] },\n    { id: \"003o0\", fen: \"r1bqk2r/pppp1ppp/2n2n2/2b1N3/2B1P3/8/PPPP1PPP/RNBQK2R w KQkq - 0 1\", moves: [\"e5f7\", \"d8e7\", \"f7h8\"], rating: 890, themes: [\"fork\", \"material\"] },\n    { id: \"004nd\", fen: \"3q2k1/2r5/pp3p1Q/2b1n3/P3N3/2P5/1P4PP/R6K b - - 0 24\", moves: [\"c7d7\", \"e4f6\", \"d8f6\", \"h6f6\"], rating: 898, themes: [\"fork\", \"middlegame\"] },\n    { id: \"006OI\", fen: \"8/p7/5k2/P5R1/6KP/8/8/5r2 w - - 5 53\", moves: [\"g5g8\", \"f1g1\", \"g4f4\", \"g1g8\"], rating: 843, themes: [\"skewer\", \"endgame\"] },\n    { id: \"007c6\", fen: \"2kr3r/pp1n2pp/2QB1bp1/5q2/2B5/8/PPP2PPP/3R1RK1 b - - 0 17\", moves: [\"b7c6\", \"c4a6\"], rating: 721, themes: [\"mateIn1\", \"bodenMate\"] },\n    { id: \"0082f\", fen: \"r4rk1/2q2ppp/3pp3/4Pb1N/pp6/1B4Q1/PPP3PP/1K1RR3 b - - 0 21\", moves: [\"a4b3\", \"g3g7\"], rating: 795, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"008cl\", fen: \"r3k2r/ppp2p1p/2n1pp2/7q/2PN2b1/2BP1Pb1/PP2B1P1/R2Q1RK1 w kq - 1 16\", moves: [\"f3g4\", \"h5h2\"], rating: 798, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"008Nz\", fen: \"6k1/2p2ppp/pnp5/B7/2P3PP/1P1bPPR1/r6r/3R2K1 b - - 1 29\", moves: [\"d3e2\", \"d1d8\"], rating: 473, themes: [\"mateIn1\", \"backRankMate\"] },\n    { id: \"007HB\", fen: \"rn2q1k1/pp3ppp/2pb4/3p1B2/2Pn4/1Q3N2/PP3PPP/R1B4K w - - 0 15\", moves: [\"f3d4\", \"e8e1\"], rating: 537, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"005x9\", fen: \"r1b1kb1Q/ppp4p/6pB/3P4/2pn4/8/PPP1qPPP/RN1K3R w q - 2 13\", moves: [\"d1c1\", \"e2c2\"], rating: 906, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"004WZ\", fen: \"r6k/1b3pp1/p1q1pn1p/2p5/P1B5/1PN4Q/2P1RP1P/R4Kr1 w - - 2 26\", moves: [\"f1g1\", \"c6h1\"], rating: 920, themes: [\"mateIn1\", \"middlegame\"] },\n    { id: \"006GK\", fen: \"2kr1br1/ppBb1ppp/8/3P2Q1/3n2n1/5N2/PP3qPP/RN2R2K b - - 0 16\", moves: [\"d4f3\", \"g5d8\"], rating: 899, themes: [\"mateIn1\", \"opening\"] },\n  ],\n  medium: [\n    // Medium tactics (1000-1400 rating)\n    { id: \"00008\", fen: \"r6k/pp2r2p/4Rp1Q/3p4/8/1N1P2R1/PqP2bPP/7K b - - 0 24\", moves: [\"f2g3\", \"e6e7\", \"b2b1\", \"b3c1\", \"b1c1\", \"h6c1\"], rating: 1200, themes: [\"crushing\", \"hangingPiece\", \"long\"] },\n    { id: \"0000D\", fen: \"5rk1/1p3ppp/pq3b2/8/8/1P1Q1N2/P4PPP/3R2K1 w - - 2 27\", moves: [\"d3d6\", \"f8d8\", \"d6d8\", \"f6d8\"], rating: 1100, themes: [\"advantage\", \"endgame\"] },\n    { id: \"0009B\", fen: \"r2qr1k1/b1p2ppp/pp4n1/P1P1p3/4P1n1/B2P2Pb/3NBP1P/RN1QR1K1 b - - 1 16\", moves: [\"b6c5\", \"e2g4\", \"h3g4\", \"d1g4\"], rating: 1103, themes: [\"advantage\", \"middlegame\"] },\n    { id: \"001Wz\", fen: \"4r1k1/5ppp/r1p5/p1n1RP2/8/2P2N1P/2P3P1/3R2K1 b - - 0 21\", moves: [\"e8e5\", \"d1d8\", \"e5e8\", \"d8e8\"], rating: 1118, themes: [\"backRankMate\", \"mateIn2\"] },\n    { id: \"002bK\", fen: \"8/7p/2b1k3/p2p1pPB/1n1P3P/N1p1P3/4K3/8 b - - 1 42\", moves: [\"c6b5\", \"a3b5\", \"c3c2\", \"e2d2\"], rating: 1122, themes: [\"advantage\", \"endgame\"] },\n    { id: \"000rO\", fen: \"3R4/8/K7/pB2b3/1p6/1P2k3/3p4/8 w - - 4 58\", moves: [\"a6a5\", \"e5c7\", \"a5b4\", \"c7d8\"], rating: 1110, themes: [\"endgame\", \"fork\"] },\n    { id: \"001xl\", fen: \"8/4R1k1/p5pp/3B4/5q2/8/5P1P/6K1 b - - 5 40\", moves: [\"g7f6\", \"e7f7\", \"f6e5\", \"f7f4\"], rating: 1126, themes: [\"advantage\", \"endgame\", \"skewer\"] },\n    { id: \"005Ep\", fen: \"5kr1/ppR3p1/3R3p/8/1r1n4/8/1P3PPP/2K5 b - - 4 31\", moves: [\"d4b5\", \"d6d8\"], rating: 969, themes: [\"mateIn1\", \"endgame\"] },\n    { id: \"007mr\", fen: \"5k2/p2r3p/1p4pP/3r1q2/3Rp3/2P5/PP3PQ1/K3R3 w - - 0 33\", moves: [\"d4e4\", \"d5d1\", \"e1d1\", \"d7d1\"], rating: 603, themes: [\"backRankMate\", \"mateIn2\"] },\n    { id: \"0042j\", fen: \"3r2k1/4nppp/pq1p1b2/1p2P3/2r2P2/2P1NR2/PP1Q2BP/3R2K1 b - - 0 24\", moves: [\"d6e5\", \"d2d8\", \"b6d8\", \"d1d8\"], rating: 1050, themes: [\"backRankMate\", \"mateIn2\"] },\n    { id: \"003S3\", fen: \"r4k1r/pNqnppb1/6pn/2p3Np/7P/2P2Q2/PP3PP1/R1B1K2R b KQ - 2 15\", moves: [\"a8b8\", \"g5e6\", \"f8g8\", \"e6c7\"], rating: 1398, themes: [\"advantage\", \"middlegame\", \"pin\"] },\n    { id: \"004mT\", fen: \"5Q2/8/1b1kp1p1/5p2/3p4/5qPK/7P/8 b - - 1 51\", moves: [\"d6c6\", \"f8a8\", \"c6d6\", \"a8f3\"], rating: 1308, themes: [\"advantage\", \"endgame\", \"skewer\"] },\n    { id: \"005nD\", fen: \"3rk2r/2qn1pp1/p1Q1R3/3n3p/8/8/PP4PP/5R1K b k - 0 23\", moves: [\"f7e6\", \"c6e6\", \"d5e7\", \"e6f7\"], rating: 1128, themes: [\"fork\", \"mateIn2\"] },\n    { id: \"000lC\", fen: \"3r3r/pQNk1ppp/1qnb1n2/1B6/8/8/PPP3PP/3R1R1K w - - 5 19\", moves: [\"d1d6\", \"d7d6\", \"b7b6\", \"a7b6\"], rating: 1100, themes: [\"advantage\", \"hangingPiece\"] },\n    { id: \"002Ua\", fen: \"r4rk1/pp3ppp/3p1q2/P1P1p3/2B5/2B2n2/2P2P1P/R2Q1RK1 w - - 0 16\", moves: [\"g1h1\", \"f6f4\", \"d1f3\", \"f4f3\"], rating: 1300, themes: [\"crushing\", \"kingsideAttack\"] },\n    { id: \"004u0\", fen: \"6k1/5ppp/5nb1/pp6/6rP/5N1Q/Pq2r1P1/3R2RK b - - 4 32\", moves: [\"e6e8\", \"d1d7\", \"c7d7\", \"g4d7\"], rating: 1354, themes: [\"advantage\", \"endgame\"] },\n    { id: \"006cZ\", fen: \"3r1rk1/1p4p1/p1p3Qp/2q5/8/3n1N1P/PP1R2P1/5R1K b - - 7 28\", moves: [\"g8h8\", \"d2d3\", \"d8d3\", \"g6d3\"], rating: 1376, themes: [\"advantage\", \"middlegame\"] },\n    { id: \"0054a\", fen: \"r1b2rk1/ppq2ppp/8/4b2Q/4R3/3B4/PP3PPP/R1B3K1 b - - 1 15\", moves: [\"g7g6\", \"h5e5\", \"c7e5\", \"e4e5\"], rating: 1372, themes: [\"advantage\", \"middlegame\"] },\n    { id: \"007eS\", fen: \"6k1/p4p2/1p5p/4r3/P3B3/1P3P2/2PK2PP/8 w - - 0 29\", moves: [\"d2e3\", \"f7f5\", \"g2g4\", \"f5e4\"], rating: 1298, themes: [\"advantage\", \"endgame\"] },\n    { id: \"003r5\", fen: \"r2qr1k1/ppp2ppp/4b3/3P4/1nP2Q2/2N2N1P/PP3KP1/R4R2 w - - 1 15\", moves: [\"d5e6\", \"b4d3\", \"f2g1\", \"d3f4\"], rating: 1107, themes: [\"fork\", \"middlegame\"] },\n    { id: \"003jH\", fen: \"rn3rk1/p5pp/3N4/4np1q/5Q2/1P3K2/PB1P2P1/2R4R w - - 0 25\", moves: [\"f3f2\", \"e5d3\", \"f2e3\", \"d3f4\", \"h1h5\", \"f4h5\"], rating: 1065, themes: [\"fork\", \"middlegame\"] },\n    { id: \"008P4\", fen: \"8/4k3/1p1p4/rP2p1p1/P2nP1P1/3BK3/8/R7 w - - 0 35\", moves: [\"e3d2\", \"d4b3\", \"d2c3\", \"b3a1\"], rating: 1050, themes: [\"fork\", \"endgame\"] },\n    { id: \"001wR\", fen: \"6nr/pp3p1p/k1p5/8/1QN5/2P1P3/4KPqP/8 b - - 5 26\", moves: [\"b7b5\", \"b4a5\", \"a6b7\", \"c4d6\", \"b7b8\", \"a5d8\"], rating: 1186, themes: [\"mateIn3\", \"endgame\"] },\n    { id: \"0008Q\", fen: \"8/4R3/1p2P3/p4r2/P6p/1P3Pk1/4K3/8 w - - 1 64\", moves: [\"e7f7\", \"f5e5\", \"e2f1\", \"e5e6\"], rating: 1367, themes: [\"advantage\", \"rookEndgame\"] },\n    { id: \"003jv\", fen: \"r4rk1/p4ppp/b1p1p3/3q4/3Q4/4BN2/PPP2PPP/R3K2R b KQkq - 0 11\", moves: [\"c6c5\", \"d4a4\", \"a6b5\", \"a4b5\"], rating: 983, themes: [\"fork\", \"middlegame\"] },\n    { id: \"0017R\", fen: \"r2qk2r/pp2ppbp/1n1p2p1/3Pn3/2P5/2NBBP1P/PP3P2/R2QK2R b KQkq - 0 12\", moves: [\"e5c4\", \"d3c4\", \"b6c4\", \"d1a4\", \"d8d7\", \"a4c4\"], rating: 1200, themes: [\"advantage\", \"fork\", \"long\"] },\n    { id: \"001m3\", fen: \"7r/6k1/2b1pp2/8/P1N3p1/5nP1/4RP2/Q4K2 w - - 2 38\", moves: [\"e2e6\", \"h8h1\", \"f1e2\", \"h1a1\"], rating: 1300, themes: [\"advantage\", \"skewer\"] },\n    { id: \"0040n\", fen: \"r7/p2k1pp1/p1p1pn2/3p4/3P4/P3PQp1/1PP2P1q/2K4R w - - 0 20\", moves: [\"h1h2\", \"g3h2\", \"f3h3\", \"f6g4\"], rating: 1290, themes: [\"advancedPawn\", \"advantage\"] },\n    { id: \"002O7\", fen: \"r3qrk1/2p2pp1/p2bpn1p/2ppNb2/3P1P2/1PP1P1B1/P2N2PP/R2Q1RK1 b - - 0 14\", moves: [\"f5g4\", \"e5g4\", \"f6g4\", \"d1g4\"], rating: 966, themes: [\"crushing\", \"middlegame\"] },\n    { id: \"004zI\", fen: \"2q3k1/4br1p/6RQ/1p1n2p1/7P/1P4P1/1B2PP2/6K1 b - - 0 27\", moves: [\"h7g6\", \"h6h8\"], rating: 1200, themes: [\"mateIn1\", \"endgame\"] },\n  ],\n  hard: [\n    // Hard tactics (1500-1900 rating) - real Lichess puzzles\n    { id: \"00143\", fen: \"r2q1rk1/5ppp/1np5/p1b5/2p1B3/P7/1P3PPP/R1BQ1RK1 b - - 1 17\", moves: [\"d8f6\", \"d1h5\", \"h7h6\", \"h5c5\"], rating: 1814, themes: [\"advantage\", \"middlegame\"] },\n    { id: \"001kG\", fen: \"rnbq3r/1p2bkpp/p4n2/8/2pNP3/2N5/PPP3PP/R1BQ1RK1 b - - 1 11\", moves: [\"e7c5\", \"d1h5\", \"f7g8\", \"h5c5\"], rating: 1918, themes: [\"advantage\", \"opening\", \"pin\"] },\n    { id: \"000h0\", fen: \"5rk1/p5p1/3bpr1p/1Pp4q/3pR3/1P1Q1N2/P4PPP/4R1K1 w - - 4 22\", moves: [\"e4e6\", \"f6f3\", \"g2f3\", \"h5h2\", \"g1f1\", \"h2h3\", \"f1e2\", \"h3e6\"], rating: 1800, themes: [\"advantage\", \"kingsideAttack\", \"veryLong\"] },\n    { id: \"000hf\", fen: \"r1bqk2r/pp1nbNp1/2p1p2p/8/2BP4/1PN3P1/P3QP1P/3R1RK1 b kq - 0 19\", moves: [\"e8f7\", \"e2e6\", \"f7f8\", \"e6f7\"], rating: 1661, themes: [\"mateIn2\", \"middlegame\"] },\n    { id: \"001xO\", fen: \"k1r1b3/p1r1nppp/1p1qpn2/2Np4/1P1P4/PQRBPN2/5PPP/2R3K1 w - - 0 19\", moves: [\"d3a6\", \"b6c5\", \"a6c8\", \"c5c4\"], rating: 1710, themes: [\"crushing\", \"sacrifice\"] },\n    { id: \"004BW\", fen: \"r1bk2r1/ppq2pQp/3bpn2/1BpnN3/5P2/1P6/PBPP2PP/RN2K2R w KQ - 3 13\", moves: [\"e5f7\", \"d8e7\", \"g7g8\", \"f6g8\"], rating: 1754, themes: [\"advantage\", \"middlegame\"] },\n    { id: \"001u3\", fen: \"2r3k1/p1q2pp1/Q3p2p/b1Np4/2nP1P2/4P1P1/5K1P/2B1N3 b - - 3 33\", moves: [\"c7b6\", \"a6c8\", \"g8h7\", \"c8b7\"], rating: 1800, themes: [\"advantage\", \"hangingPiece\"] },\n    { id: \"003wQ\", fen: \"2r2rk1/6pp/3Q1q2/8/3N1B2/6P1/PP1K3P/R4b2 w - - 0 24\", moves: [\"a1f1\", \"f6d6\", \"f4d6\", \"f8f1\"], rating: 1896, themes: [\"advantage\", \"discoveredAttack\", \"pin\"] },\n    { id: \"005HG\", fen: \"r2q1rk1/p1p2pp1/3bbn1p/4N3/2Q5/1P4P1/PB1PPP1P/RN2K2R w KQ - 1 12\", moves: [\"c4c2\", \"d6e5\", \"b2e5\", \"d8d5\", \"f2f3\", \"d5e5\"], rating: 1717, themes: [\"advantage\", \"fork\", \"opening\"] },\n    { id: \"006fF\", fen: \"r1b4r/pp1k2pp/2nb2q1/1B1p2B1/3p3Q/8/PPP2PPP/3RR1K1 b - - 5 17\", moves: [\"h7h6\", \"h4g4\", \"d7c7\", \"g5d8\", \"h8d8\", \"g4g6\"], rating: 1871, themes: [\"advantage\", \"discoveredAttack\", \"exposedKing\"] },\n    { id: \"001aK\", fen: \"6k1/5p2/4p3/P1B5/2P4P/4Pnp1/Rb1rN3/5K2 b - - 1 33\", moves: [\"d2e2\", \"f1e2\", \"g3g2\", \"e3e4\", \"f3d4\", \"e2f2\"], rating: 1978, themes: [\"crushing\", \"endgame\", \"hangingPiece\"] },\n    { id: \"006pe\", fen: \"r4r2/2q1NN2/4bQpk/2n4p/pp5P/8/1PP2PP1/2KR3R b - - 0 28\", moves: [\"e6f7\", \"e7f5\", \"h6h7\", \"f6g7\"], rating: 1544, themes: [\"mateIn2\", \"middlegame\", \"pin\"] },\n    { id: \"00761\", fen: \"3r2k1/1b3pbR/p2P2P1/3p2N1/2p5/2P2N2/PP6/2K5 b - - 0 28\", moves: [\"f7g6\", \"h7g7\", \"g8g7\", \"g5e6\", \"g7g8\", \"e6d8\"], rating: 1524, themes: [\"attraction\", \"crushing\", \"fork\"] },\n    { id: \"006om\", fen: \"1r3k2/5p1p/2p1pp2/P2n4/2r1N3/P4PK1/2R2P1P/2R5 b - - 9 29\", moves: [\"c4a4\", \"e4c5\", \"a4a5\", \"c5d7\", \"f8g7\", \"d7b8\"], rating: 1775, themes: [\"crushing\", \"endgame\", \"fork\"] },\n    { id: \"001h8\", fen: \"2r3k1/2r4p/4p1p1/1p1q1pP1/p1bP1P1Q/P6R/5B2/2R3K1 b - - 5 34\", moves: [\"c4e2\", \"h4h7\", \"c7h7\", \"c1c8\", \"g8g7\", \"c8c7\"], rating: 1780, themes: [\"crushing\", \"deflection\", \"kingsideAttack\"] },\n    { id: \"002e5\", fen: \"r2q4/pp1n1kbp/3P2b1/6N1/6Q1/P3P3/6P1/4K2R b K - 1 21\", moves: [\"f7g8\", \"g4c4\", \"g8h8\", \"h1h7\", \"g6h7\", \"g5f7\"], rating: 1850, themes: [\"crushing\", \"middlegame\", \"sacrifice\"] },\n    { id: \"005YM\", fen: \"5k2/p4pp1/1qn3r1/3pP2p/5P2/1NPQ4/Pr3RPP/R5K1 w - - 5 24\", moves: [\"b3d4\", \"b2f2\", \"g1f2\", \"c6d4\", \"d3d4\", \"b6b2\"], rating: 1900, themes: [\"advantage\", \"middlegame\"] },\n    { id: \"005f3\", fen: \"r5k1/5p1p/4p3/P1B5/2P4P/4Pnp1/Rb1rN3/5K2 b - - 1 33\", moves: [\"d2e2\", \"f1e2\", \"g3g2\", \"e3e4\", \"f3d4\", \"e2f2\"], rating: 1800, themes: [\"crushing\", \"endgame\", \"hangingPiece\"] },\n    { id: \"004Ud\", fen: \"r1bqk2r/p3Bppp/3p4/1ppn4/4P3/4Q3/PPP2PPP/2KR1B1R b kq - 0 11\", moves: [\"d5e7\", \"f1b5\", \"c8d7\", \"d1d6\", \"d7b5\", \"d6d8\"], rating: 1655, themes: [\"advantage\", \"interference\", \"long\"] },\n    { id: \"008LT\", fen: \"r4rk1/6p1/b3p1nN/p1pp4/1p3P1q/3P1Q1B/PPP2PK1/R6R b - - 0 26\", moves: [\"g8h8\", \"h6f7\", \"f8f7\", \"h3e6\"], rating: 1800, themes: [\"crushing\", \"kingsideAttack\", \"pin\", \"sacrifice\"] },\n    { id: \"006XF\", fen: \"r5kr/pp1qb1p1/2p4p/3pPb1Q/3P4/2P1B3/PP4PP/R4RK1 b - - 1 17\", moves: [\"f5e4\", \"h5f7\", \"g8h7\", \"f1f6\", \"e7f6\", \"f7d7\"], rating: 1852, themes: [\"advantage\", \"middlegame\", \"pin\"] },\n    { id: \"00798\", fen: \"6K1/4k3/4P3/6pp/6rP/4R1P1/8/8 w - - 0 60\", moves: [\"g8g7\", \"g5h4\", \"g7h6\", \"h4g3\"], rating: 1506, themes: [\"crushing\", \"discoveredAttack\", \"rookEndgame\"] },\n    { id: \"003UW\", fen: \"8/6pk/7p/2p5/2qp4/5PP1/P3QK1P/8 b - - 1 40\", moves: [\"c4d5\", \"e2e4\", \"d5e4\", \"f3e4\"], rating: 1600, themes: [\"advantage\", \"queenEndgame\"] },\n    { id: \"002Uy\", fen: \"8/8/1p6/k7/P1R5/1K5r/8/8 w - - 26 64\", moves: [\"c4c3\", \"h3c3\", \"b3c3\", \"a5a4\", \"c3b2\", \"a4b4\"], rating: 1602, themes: [\"crushing\", \"defensiveMove\", \"rookEndgame\"] },\n    { id: \"004d8\", fen: \"8/4kr2/R2p4/1p1Pp1p1/5p2/3K1P2/PPP5/8 b - - 0 39\", moves: [\"g5g4\", \"a6a7\", \"e7f6\", \"a7f7\", \"f6f7\", \"f3g4\"], rating: 1608, themes: [\"crushing\", \"endgame\", \"rookEndgame\"] },\n    { id: \"000Vc\", fen: \"8/8/4k1p1/2KpP2p/5PP1/8/8/8 w - - 0 53\", moves: [\"g4h5\", \"g6h5\", \"f4f5\", \"e6e5\", \"f5f6\", \"e5f6\"], rating: 1611, themes: [\"crushing\", \"endgame\", \"pawnEndgame\"] },\n    { id: \"004Ax\", fen: \"8/8/4R1kp/p7/5rPK/8/7P/8 b - - 2 42\", moves: [\"g6f7\", \"e6h6\", \"f4f6\", \"h6h7\", \"f7g6\", \"h7a7\"], rating: 1800, themes: [\"crushing\", \"endgame\", \"exposedKing\"] },\n    { id: \"005qG\", fen: \"8/8/1p1k1p1p/3npp2/2B5/PP1K1PP1/7P/8 b - - 0 36\", moves: [\"f5f4\", \"c4d5\", \"f4g3\", \"h2g3\", \"d6d5\", \"g3g4\"], rating: 1850, themes: [\"crushing\", \"defensiveMove\", \"endgame\"] },\n    { id: \"002LF\", fen: \"7r/p2q1pk1/1pp3p1/8/6P1/4Q3/PP1R1P1r/5KN1 b - - 0 38\", moves: [\"d7g4\", \"e3e5\", \"f7f6\", \"e5c7\", \"g7h6\", \"c7h2\"], rating: 1800, themes: [\"advantage\", \"endgame\", \"interference\"] },\n  ],\n  master: [\n    // Master tactics (2000+ rating) - real Lichess puzzles\n    { id: \"000jr\", fen: \"8/2k3n1/3p2p1/1KpP2Pp/2P4P/7B/8/8 w - - 0 57\", moves: [\"b5a6\", \"c7d8\", \"a6b5\", \"g7f5\"], rating: 2191, themes: [\"crushing\", \"endgame\"] },\n    { id: \"000qP\", fen: \"8/7R/8/5p2/4bk1P/8/2r2K2/6R1 w - - 7 51\", moves: [\"f2f1\", \"f4f3\", \"f1e1\", \"c2c1\", \"e1d2\", \"c1g1\"], rating: 2003, themes: [\"crushing\", \"endgame\", \"exposedKing\", \"skewer\"] },\n    { id: \"002Hi\", fen: \"6k1/4p1bp/6p1/1p1pP3/1PpPp3/P3P3/Q2B1KPP/3q4 b - - 2 23\", moves: [\"d1a4\", \"a2a4\", \"b5a4\", \"b4b5\", \"g8f7\", \"b5b6\"], rating: 2078, themes: [\"crushing\", \"endgame\", \"quietMove\"] },\n    { id: \"002e8\", fen: \"r3nrk1/1b3pp1/4pb2/p3q3/1p1N4/3B2R1/PPPQN2P/1K4R1 b - - 1 23\", moves: [\"a8d8\", \"d2h6\", \"g7g6\", \"g3h3\"], rating: 2536, themes: [\"crushing\", \"defensiveMove\", \"middlegame\", \"pin\"] },\n    { id: \"002mG\", fen: \"5r1k/B1p3pp/2Qb1p2/3Pq3/P6P/8/2P3K1/3R1R2 w - - 1 36\", moves: [\"g2f2\", \"f8e8\", \"c6e8\", \"e5e8\"], rating: 2234, themes: [\"advantage\", \"middlegame\", \"quietMove\"] },\n    { id: \"0018S\", fen: \"2kr3r/pp3p2/4p2p/1N1p2p1/3Q4/1P1P4/2q2PPP/5RK1 b - - 1 20\", moves: [\"b7b6\", \"d4a1\", \"a7a5\", \"f1c1\"], rating: 2584, themes: [\"advantage\", \"endgame\", \"pin\"] },\n    { id: \"004b0\", fen: \"5kB1/4b3/4P3/2p2P2/2b5/8/p7/B6K w - - 4 48\", moves: [\"g8f7\", \"e7g5\", \"f5f6\", \"g5e3\", \"a1e5\", \"e3f4\", \"e5f4\", \"a2a1q\"], rating: 2368, themes: [\"advancedPawn\", \"bishopEndgame\", \"crushing\", \"deflection\"] },\n    { id: \"004sg\", fen: \"6k1/p3b2p/1p1pP3/2p3P1/1Pnp3B/P6P/3Q3K/8 w - - 0 38\", moves: [\"b4c5\", \"c4d2\", \"c5c6\", \"d6d5\", \"g5g6\", \"e7d6\"], rating: 2399, themes: [\"advantage\", \"clearance\", \"endgame\", \"hangingPiece\"] },\n    { id: \"004zh\", fen: \"4b1k1/4Pr2/3R2pp/1ppBP1q1/8/PP4P1/2P4P/3R3K b - - 2 38\", moves: [\"g5h5\", \"d1f1\", \"g8g7\", \"d5f7\", \"e8f7\", \"d6d8\", \"h5e5\", \"f1f7\", \"g7f7\", \"e7e8q\", \"e5e8\", \"d8e8\"], rating: 2624, themes: [\"advancedPawn\", \"attraction\", \"crushing\", \"exposedKing\"] },\n    { id: \"005jR\", fen: \"8/5p1k/1P4pp/3Qn3/4BP2/6P1/1p2P2P/2q3K1 w - - 1 34\", moves: [\"g1f2\", \"b2b1q\", \"e4b1\", \"e5g4\", \"f2f3\", \"c1h1\"], rating: 2787, themes: [\"advancedPawn\", \"crushing\", \"endgame\", \"promotion\"] },\n    { id: \"005ws\", fen: \"8/8/5pp1/3K3p/3N2kP/8/8/8 w - - 2 62\", moves: [\"d5e6\", \"g6g5\", \"h4g5\", \"f6g5\", \"e6d5\", \"h5h4\", \"d5e4\", \"h4h3\", \"d4f3\", \"g4g3\"], rating: 2391, themes: [\"crushing\", \"endgame\", \"knightEndgame\", \"quietMove\"] },\n    { id: \"005yO\", fen: \"r1r3k1/ppq3bQ/4p2p/4n3/3p4/2P5/PBB2PPP/4R1K1 b - - 2 24\", moves: [\"g8f8\", \"b2a3\", \"f8f7\", \"c2d1\", \"c8h8\", \"d1h5\", \"f7f6\", \"h7e4\"], rating: 3091, themes: [\"advantage\", \"exposedKing\", \"middlegame\", \"quietMove\"] },\n    { id: \"006NL\", fen: \"1r6/k2qn1b1/p1b1p1p1/2PpPpN1/2nN1P1P/p4B2/1PP2Q2/1K1R3R w - - 0 32\", moves: [\"d4c6\", \"e7c6\", \"b2b3\", \"a3a2\", \"b1a1\", \"c4e5\", \"f4e5\", \"g7e5\", \"a1a2\", \"b8b5\"], rating: 2545, themes: [\"advancedPawn\", \"advantage\", \"middlegame\", \"pin\"] },\n    { id: \"006of\", fen: \"r2qr1k1/ppp2ppp/4b3/3P4/1nP2Q2/2N2N1P/PP3KP1/R4R2 w - - 1 15\", moves: [\"d5e6\", \"b4d3\", \"f2g1\", \"d3f4\"], rating: 2100, themes: [\"fork\", \"middlegame\"] },\n    { id: \"007gO\", fen: \"2r3rk/5p2/4p2p/4q3/1Q6/8/1P3PPP/R4RK1 w - - 0 31\", moves: [\"a1c1\", \"e5g5\", \"g2g3\", \"c8c1\"], rating: 2197, themes: [\"crushing\", \"endgame\"] },\n    { id: \"008Sk\", fen: \"8/6pp/3Bp2k/p2pP2P/P2bp1PK/8/r7/5R2 b - - 2 37\", moves: [\"d4f2\", \"f1f2\", \"g7g5\", \"h4g3\", \"a2f2\", \"g3f2\"], rating: 2094, themes: [\"crushing\", \"endgame\"] },\n    { id: \"008EC\", fen: \"6k1/4rpp1/p6p/7P/q1pP1R2/2Pb2Q1/P4RP1/6K1 w - - 9 31\", moves: [\"f4f7\", \"e7f7\", \"g3b8\", \"g8h7\", \"f2f7\", \"a4d1\", \"g1f2\", \"d1f1\", \"f2g3\", \"f1f7\"], rating: 2276, themes: [\"advantage\", \"endgame\", \"skewer\"] },\n    { id: \"008lc\", fen: \"7k/pb1qn2n/1p2R2Q/2p2p2/2Pp4/3B4/PP3PrP/4RK2 b - - 1 27\", moves: [\"g2g7\", \"h6g7\", \"h8g7\", \"e6e7\", \"d7e7\", \"e1e7\"], rating: 2035, themes: [\"attraction\", \"crushing\", \"exposedKing\", \"fork\"] },\n    { id: \"00347\", fen: \"8/2p5/8/2pPk2p/8/4K2P/6P1/8 w - - 1 42\", moves: [\"e3d3\", \"h5h4\", \"d3c4\", \"e5d6\"], rating: 2264, themes: [\"crushing\", \"endgame\", \"pawnEndgame\", \"quietMove\"] },\n    { id: \"005do\", fen: \"7r/pp1k4/4p1b1/3pP1Np/3P1P1K/8/P7/2R5 b - - 7 42\", moves: [\"h8f8\", \"c1c7\", \"d7c7\", \"g5e6\", \"c7b6\", \"e6f8\"], rating: 2100, themes: [\"attraction\", \"crushing\", \"deflection\", \"endgame\", \"fork\"] },\n    { id: \"006i7\", fen: \"r4rk1/3nqpp1/2p1bn1p/3pN3/1p1P4/2NQP2P/1PB2PP1/R4RK1 w - - 0 18\", moves: [\"e5c6\", \"e7d6\", \"a1a8\", \"f8a8\", \"c6b4\", \"d6b4\"], rating: 2100, themes: [\"advantage\", \"middlegame\"] },\n    { id: \"0072T\", fen: \"3q1nk1/1bN2rpp/pp1P4/1N6/4n2b/8/PPP2PPP/R1BQ1RK1 w - - 1 16\", moves: [\"b5d4\", \"h4f2\", \"f1f2\", \"e4f2\"], rating: 2310, themes: [\"advantage\", \"kingsideAttack\", \"middlegame\"] },\n    { id: \"0078T\", fen: \"rk5r/1b3R2/pp2p2q/4P2p/B2p3B/4R2P/PP4P1/5Q1K b - - 0 27\", moves: [\"d4e3\", \"f7b7\", \"b8b7\", \"f1f7\", \"b7b8\", \"h4e7\"], rating: 2248, themes: [\"attraction\", \"crushing\", \"defensiveMove\", \"exposedKing\"] },\n    { id: \"002xh\", fen: \"2nk4/8/2PBp1n1/1pK1P1p1/1P4P1/8/8/8 b - - 2 42\", moves: [\"g6h4\", \"c5b5\", \"h4g2\", \"b5a6\", \"g2e3\", \"a6b7\"], rating: 2065, themes: [\"crushing\", \"endgame\"] },\n    { id: \"003cs\", fen: \"r5k1/B1p3pp/2Qb1p2/3Pq3/P6P/8/2P3K1/3R1R2 w - - 1 36\", moves: [\"g2f2\", \"f8e8\", \"c6e8\", \"e5e8\"], rating: 2050, themes: [\"advantage\", \"middlegame\", \"quietMove\"] },\n    { id: \"004Ys\", fen: \"r3qrk1/ppp2ppp/4b3/3P4/1nP2Q2/2N2N1P/PP3KP1/R4R2 w - - 1 15\", moves: [\"d5e6\", \"b4d3\", \"f2g1\", \"d3f4\"], rating: 2320, themes: [\"advantage\", \"defensiveMove\", \"middlegame\"] },\n    { id: \"002LW\", fen: \"3r1rk1/1b1n1pp1/3p4/p4PPQ/4P3/3q1BN1/8/2R2RK1 b - - 1 28\", moves: [\"d7e5\", \"f5f6\", \"e5f3\", \"f1f3\"], rating: 2464, themes: [\"advantage\", \"middlegame\"] },\n    { id: \"003md\", fen: \"r1b1k2N/ppp3pp/2n5/2bp4/7q/1B4n1/PPPP1P1P/RNBQ1RK1 w q - 0 10\", moves: [\"f1e1\", \"g3e4\", \"e1e4\", \"d5e4\", \"d1h5\", \"h4h5\", \"b3f7\", \"h5f7\"], rating: 2149, themes: [\"crushing\", \"defensiveMove\", \"middlegame\"] },\n    { id: \"002Ds\", fen: \"8/1pp5/p2p4/P2Pk2p/1PP1p2P/2n1K2P/3N4/8 b - - 0 45\", moves: [\"b7b6\", \"b4b5\", \"c3d1\", \"e3e2\", \"a6b5\", \"a5a6\"], rating: 2000, themes: [\"crushing\", \"endgame\", \"knightEndgame\"] },\n  ],\n};\n\nexport default function PuzzlesPage() {\n  const [currentPuzzle, setCurrentPuzzle] = useState<Puzzle | null>(null);\n  const [game, setGame] = useState(new Chess());\n  const [moveIndex, setMoveIndex] = useState(0);\n  const [status, setStatus] = useState<\"loading\" | \"playing\" | \"solved\" | \"failed\">(\"playing\");\n  const [showHint, setShowHint] = useState(false);\n  const [selectedDifficulty, setSelectedDifficulty] = useState<Difficulty>(\"easy\");\n  const [score, setScore] = useState({ solved: 0, failed: 0 });\n  const [puzzleHistory, setPuzzleHistory] = useState<Puzzle[]>([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const [usedPuzzleIds, setUsedPuzzleIds] = useState<Set<string>>(new Set());\n  const [boardOrientation, setBoardOrientation] = useState<\"white\" | \"black\">(\"white\");\n  const isInitialMount = useRef(true);\n\n  // Load a random puzzle from the selected difficulty\n  const loadNewPuzzle = useCallback((difficulty: Difficulty) => {\n    const puzzles = PUZZLES[difficulty];\n    \n    // Filter out already used puzzles\n    const availablePuzzles = puzzles.filter(p => !usedPuzzleIds.has(p.id));\n    \n    // If all puzzles used, reset\n    const puzzlePool = availablePuzzles.length > 0 ? availablePuzzles : puzzles;\n    \n    // Pick a random puzzle\n    const randomIndex = Math.floor(Math.random() * puzzlePool.length);\n    const puzzle = puzzlePool[randomIndex];\n    \n    // Mark as used\n    setUsedPuzzleIds(prev => new Set([...prev, puzzle.id]));\n    \n    // Set up the puzzle\n    // Lichess puzzles: FEN is position before opponent's move, moves[0] is opponent's move\n    // We need to apply the first move to get the actual puzzle position\n    setCurrentPuzzle(puzzle);\n    const newGame = new Chess(puzzle.fen);\n    \n    // Apply the opponent's first move (this sets up the puzzle)\n    const firstMove = puzzle.moves[0];\n    newGame.move({\n      from: firstMove.slice(0, 2),\n      to: firstMove.slice(2, 4),\n      promotion: firstMove.length > 4 ? firstMove[4] : undefined,\n    });\n    \n    setGame(newGame);\n    setMoveIndex(1); // Start at 1 since move 0 (opponent's move) is already applied\n    setStatus(\"playing\");\n    setShowHint(false);\n    // Set board orientation based on who solves the puzzle (after opponent's move)\n    setBoardOrientation(newGame.turn() === \"w\" ? \"white\" : \"black\");\n    \n    // Add to history\n    setPuzzleHistory(prev => [...prev.slice(0, historyIndex + 1), puzzle]);\n    setHistoryIndex(prev => prev + 1);\n  }, [historyIndex, usedPuzzleIds]);\n\n  // Initial load\n  useEffect(() => {\n    loadNewPuzzle(selectedDifficulty);\n  }, []);\n\n  // Handle difficulty change\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n      return;\n    }\n    loadNewPuzzle(selectedDifficulty);\n  }, [selectedDifficulty]);\n\n  // Reset current puzzle\n  const resetPuzzle = useCallback(() => {\n    if (!currentPuzzle) return;\n    const newGame = new Chess(currentPuzzle.fen);\n    \n    // Apply the opponent's first move (this sets up the puzzle)\n    const firstMove = currentPuzzle.moves[0];\n    newGame.move({\n      from: firstMove.slice(0, 2),\n      to: firstMove.slice(2, 4),\n      promotion: firstMove.length > 4 ? firstMove[4] : undefined,\n    });\n    \n    setGame(newGame);\n    setMoveIndex(1); // Start at 1 since move 0 (opponent's move) is already applied\n    setStatus(\"playing\");\n    setShowHint(false);\n  }, [currentPuzzle]);\n\n  const onDrop = (sourceSquare: string, targetSquare: string) => {\n    if (status !== \"playing\" || !currentPuzzle) return false;\n    \n    const expectedMove = currentPuzzle.moves[moveIndex];\n    const attemptedMove = sourceSquare + targetSquare;\n\n    // Check if this is the correct move (with or without promotion)\n    if (expectedMove?.startsWith(attemptedMove)) {\n      try {\n        const newGame = new Chess(game.fen());\n        const promotion = expectedMove.length > 4 ? expectedMove[4] : undefined;\n        \n        const move = newGame.move({\n          from: sourceSquare,\n          to: targetSquare,\n          promotion: promotion as \"q\" | \"r\" | \"b\" | \"n\" | undefined,\n        });\n\n        if (move) {\n          setGame(newGame);\n          \n          // Check if puzzle is complete\n          if (moveIndex + 1 >= currentPuzzle.moves.length) {\n            setStatus(\"solved\");\n            setScore(prev => ({ ...prev, solved: prev.solved + 1 }));\n          } else {\n            // Make opponent's response move\n            const nextMoveIndex = moveIndex + 1;\n            const opponentMove = currentPuzzle.moves[nextMoveIndex];\n            \n            if (opponentMove) {\n              setTimeout(() => {\n                const gameAfterOpponent = new Chess(newGame.fen());\n                try {\n                  gameAfterOpponent.move({\n                    from: opponentMove.slice(0, 2),\n                    to: opponentMove.slice(2, 4),\n                    promotion: opponentMove.length > 4 ? opponentMove[4] as \"q\" | \"r\" | \"b\" | \"n\" : undefined,\n                  });\n                  setGame(gameAfterOpponent);\n                  setMoveIndex(nextMoveIndex + 1);\n                } catch {\n                  setMoveIndex(nextMoveIndex);\n                }\n              }, 300);\n            } else {\n              setMoveIndex(nextMoveIndex);\n            }\n          }\n          return true;\n        }\n      } catch {\n        return false;\n      }\n    } else {\n      // Wrong move\n      setStatus(\"failed\");\n      setScore(prev => ({ ...prev, failed: prev.failed + 1 }));\n    }\n    \n    return false;\n  };\n\n  const nextPuzzle = () => {\n    loadNewPuzzle(selectedDifficulty);\n  };\n\n  const prevPuzzle = () => {\n    if (historyIndex > 0) {\n      const prevIndex = historyIndex - 1;\n      const puzzle = puzzleHistory[prevIndex];\n      setCurrentPuzzle(puzzle);\n      const newGame = new Chess(puzzle.fen);\n      \n      // Apply the opponent's first move (this sets up the puzzle)\n      const firstMove = puzzle.moves[0];\n      newGame.move({\n        from: firstMove.slice(0, 2),\n        to: firstMove.slice(2, 4),\n        promotion: firstMove.length > 4 ? firstMove[4] : undefined,\n      });\n      \n      setGame(newGame);\n      setMoveIndex(1); // Start at 1 since move 0 (opponent's move) is already applied\n      setStatus(\"playing\");\n      setShowHint(false);\n      setBoardOrientation(newGame.turn() === \"w\" ? \"white\" : \"black\");\n      setHistoryIndex(prevIndex);\n    }\n  };\n\n  const getDifficultyColor = (diff: Difficulty) => {\n    switch (diff) {\n      case \"easy\": return \"text-green-400 bg-green-900/30 border-green-700/50\";\n      case \"medium\": return \"text-yellow-400 bg-yellow-900/30 border-yellow-700/50\";\n      case \"hard\": return \"text-orange-400 bg-orange-900/30 border-orange-700/50\";\n      case \"master\": return \"text-red-400 bg-red-900/30 border-red-700/50\";\n    }\n  };\n\n  const getDifficultyLabel = (diff: Difficulty) => {\n    switch (diff) {\n      case \"easy\": return \"Easy (800-1000)\";\n      case \"medium\": return \"Medium (1200-1400)\";\n      case \"hard\": return \"Hard (1600-1800)\";\n      case \"master\": return \"Master (2000+)\";\n    }\n  };\n\n  const formatThemes = (themes: string[]) => {\n    return themes\n      .map(t => t.replace(/([A-Z])/g, ' $1').trim())\n      .map(t => t.charAt(0).toUpperCase() + t.slice(1))\n      .slice(0, 3);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-amber-950 via-stone-900 to-stone-950 py-12 px-4\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"font-serif text-4xl md:text-5xl font-bold text-amber-100 mb-4\">\n            ‚ôü Chess Puzzles\n          </h1>\n          <p className=\"text-amber-200/60 font-serif italic text-lg\">\n            Sharpen your tactics with puzzles across all skill levels\n          </p>\n        </div>\n\n        {/* Difficulty Selection */}\n        <div className=\"flex justify-center mb-6\">\n          <div className=\"inline-flex rounded-lg border border-amber-800/50 bg-stone-900/80 p-1 gap-1\">\n            {([\"easy\", \"medium\", \"hard\", \"master\"] as Difficulty[]).map((diff) => (\n              <button\n                key={diff}\n                onClick={() => setSelectedDifficulty(diff)}\n                className={`px-4 py-2 rounded-md font-serif text-sm transition-all ${\n                  selectedDifficulty === diff\n                    ? getDifficultyColor(diff) + \" shadow-lg\"\n                    : \"text-amber-200/70 hover:text-amber-100 hover:bg-stone-800\"\n                }`}\n              >\n                {diff.charAt(0).toUpperCase() + diff.slice(1)}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Score */}\n        <div className=\"flex justify-center mb-8\">\n          <div className=\"flex items-center gap-4 bg-stone-900/80 rounded-lg px-4 py-2 border border-amber-800/30\">\n            <span className=\"text-green-400\">‚úì {score.solved}</span>\n            <span className=\"text-stone-600\">|</span>\n            <span className=\"text-red-400\">‚úó {score.failed}</span>\n          </div>\n        </div>\n\n        <div className=\"grid md:grid-cols-2 gap-8\">\n          {/* Chessboard */}\n          <div className=\"flex flex-col items-center\">\n            <div className=\"w-full max-w-[500px] aspect-square relative\">\n              <Chessboard\n                position={game.fen()}\n                onPieceDrop={onDrop}\n                boardOrientation={boardOrientation}\n                customBoardStyle={{\n                  borderRadius: \"4px\",\n                  boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.5)\",\n                }}\n                customDarkSquareStyle={{ backgroundColor: \"#b58863\" }}\n                customLightSquareStyle={{ backgroundColor: \"#f0d9b5\" }}\n              />\n            </div>\n\n            {/* Status Message */}\n            <div className=\"mt-4 text-center\">\n              {status === \"playing\" && currentPuzzle && (\n                <p className=\"text-amber-300 font-serif\">\n                  {game.turn() === \"w\" ? \"White\" : \"Black\"} to move - Find the best move!\n                </p>\n              )}\n              {status === \"solved\" && (\n                <p className=\"text-green-400 font-serif text-xl\">\n                  ‚úì Brilliant! Puzzle Solved!\n                </p>\n              )}\n              {status === \"failed\" && (\n                <p className=\"text-red-400 font-serif text-xl\">\n                  ‚úó Not quite - Try again!\n                </p>\n              )}\n            </div>\n\n            {/* Controls */}\n            <div className=\"flex gap-3 mt-4\">\n              <button\n                onClick={prevPuzzle}\n                disabled={historyIndex <= 0}\n                className=\"px-4 py-2 bg-stone-800 hover:bg-stone-700 disabled:bg-stone-900 disabled:text-stone-600 text-amber-100 rounded border border-stone-700 transition-all\"\n              >\n                ‚Üê Prev\n              </button>\n              <button\n                onClick={resetPuzzle}\n                className=\"px-4 py-2 bg-amber-800 hover:bg-amber-700 text-amber-100 rounded border border-amber-700 transition-all\"\n              >\n                Reset\n              </button>\n              <button\n                onClick={nextPuzzle}\n                className=\"px-4 py-2 bg-stone-800 hover:bg-stone-700 text-amber-100 rounded border border-stone-700 transition-all\"\n              >\n                Next ‚Üí\n              </button>\n            </div>\n          </div>\n\n          {/* Puzzle Info */}\n          <div className=\"space-y-4\">\n            {/* Puzzle Card */}\n            <div className=\"bg-gradient-to-br from-amber-950/60 to-stone-900/80 rounded-lg border border-amber-800/30 p-6\">\n              {currentPuzzle ? (\n                <>\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div>\n                      <h2 className=\"font-serif text-2xl font-bold text-amber-100\">\n                        Puzzle #{currentPuzzle.id}\n                      </h2>\n                      <p className=\"text-amber-400/60 text-sm mt-1\">\n                        Rating: ~{currentPuzzle.rating}\n                      </p>\n                    </div>\n                    <span className={`px-3 py-1 rounded-full text-xs border ${getDifficultyColor(selectedDifficulty)}`}>\n                      {getDifficultyLabel(selectedDifficulty)}\n                    </span>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    <div>\n                      <p className=\"text-amber-400 text-sm font-semibold mb-2\">Themes</p>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {formatThemes(currentPuzzle.themes).map((theme, i) => (\n                          <span key={i} className=\"px-3 py-1 bg-amber-900/40 text-amber-300 text-sm rounded-full border border-amber-700/30\">\n                            ‚ôî {theme}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Hint Section */}\n                    <div>\n                      <button\n                        onClick={() => setShowHint(!showHint)}\n                        className=\"text-amber-400 text-sm hover:text-amber-300 transition-colors\"\n                      >\n                        {showHint ? \"Hide Hint ‚ñ≤\" : \"Show Hint ‚ñº\"}\n                      </button>\n                      {showHint && (\n                        <p className=\"text-amber-200/60 text-sm mt-2 italic border-l-2 border-amber-700 pl-3\">\n                          üí° Look for {formatThemes(currentPuzzle.themes)[0]?.toLowerCase() || \"tactics\"}!\n                          {currentPuzzle.moves.length > 2 && ` This is a ${Math.ceil(currentPuzzle.moves.length / 2)}-move combination.`}\n                        </p>\n                      )}\n                    </div>\n\n                    {/* Solution (shown after solved/failed) */}\n                    {(status === \"solved\" || status === \"failed\") && currentPuzzle.moves.length > 0 && (\n                      <div className=\"pt-4 border-t border-amber-800/30\">\n                        <p className=\"text-amber-400 text-sm font-semibold mb-2\">Solution</p>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {currentPuzzle.moves.map((move, i) => (\n                            <span key={i} className=\"px-2 py-1 bg-stone-800/50 text-amber-200 text-sm rounded font-mono\">\n                              {i % 2 === 0 ? `${Math.floor(i / 2) + 1}.` : \"\"} {move}\n                            </span>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Lichess Link */}\n                    <div className=\"pt-4 border-t border-amber-800/30\">\n                      <p className=\"text-amber-400 text-sm font-semibold mb-2\">View on Lichess</p>\n                      <div className=\"flex flex-col gap-2\">\n                        <a\n                          href={`https://lichess.org/training/${currentPuzzle.id}`}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"inline-flex items-center gap-2 px-3 py-2 bg-amber-700/30 hover:bg-amber-600/40 text-amber-200 text-sm rounded border border-amber-600/50 transition-colors\"\n                        >\n                          <svg className=\"w-4 h-4\" viewBox=\"0 0 50 50\" fill=\"currentColor\">\n                            <path d=\"M 25 2 C 12.309295 2 2 12.309295 2 25 C 2 37.690705 12.309295 48 25 48 C 37.690705 48 48 37.690705 48 25 C 48 12.309295 37.690705 2 25 2 z M 25 4 C 36.609824 4 46 13.390176 46 25 C 46 36.609824 36.609824 46 25 46 C 13.390176 46 4 36.609824 4 25 C 4 13.390176 13.390176 4 25 4 z M 25 11 A 2 2 0 0 0 23 13 A 2 2 0 0 0 25 15 A 2 2 0 0 0 27 13 A 2 2 0 0 0 25 11 z M 21 18 L 21 21 L 24 21 L 24 36 L 21 36 L 21 39 L 29 39 L 29 36 L 26 36 L 26 18 L 21 18 z\"/>\n                          </svg>\n                          Open Puzzle on Lichess\n                        </a>\n                        <a\n                          href={`https://lichess.org/analysis/${currentPuzzle.fen.replace(/ /g, '_')}`}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"inline-flex items-center gap-2 px-3 py-2 bg-stone-800/50 hover:bg-stone-700/50 text-amber-200/70 text-sm rounded border border-stone-700/50 transition-colors\"\n                        >\n                          <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                            <path d=\"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z\"/>\n                            <circle cx=\"12\" cy=\"12\" r=\"3\"/>\n                          </svg>\n                          Analyze Position\n                        </a>\n                      </div>\n                      <p className=\"text-amber-100/40 text-xs mt-3\">\n                        Puzzles sourced from the{\" \"}\n                        <a\n                          href=\"https://lichess.org/training\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-amber-400 hover:text-amber-300 underline\"\n                        >\n                          Lichess Puzzle Database\n                        </a>\n                      </p>\n                    </div>\n                  </div>\n                </>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <p className=\"text-amber-200/60\">Loading puzzle...</p>\n                </div>\n              )}\n            </div>\n\n            {/* Puzzle Tips */}\n            <div className=\"bg-stone-900/50 rounded-lg border border-stone-700/30 p-4\">\n              <h3 className=\"font-serif text-lg font-bold text-amber-100 mb-3\">\n                ‚ôú Puzzle Tips\n              </h3>\n              <ul className=\"space-y-2 text-amber-100/60 text-sm\">\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-amber-600\">‚Ä¢</span>\n                  Look for checks, captures, and threats first\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-amber-600\">‚Ä¢</span>\n                  Consider what your opponent wants to do\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-amber-600\">‚Ä¢</span>\n                  Look for pins, forks, and skewers\n                </li>\n                <li className=\"flex items-start gap-2\">\n                  <span className=\"text-amber-600\">‚Ä¢</span>\n                  Don&apos;t rush - visualization is key!\n                </li>\n              </ul>\n            </div>\n\n            {/* Difficulty Legend */}\n            <div className=\"bg-stone-900/50 rounded-lg border border-stone-700/30 p-4\">\n              <h3 className=\"font-serif text-lg font-bold text-amber-100 mb-3\">\n                Difficulty Levels\n              </h3>\n              <div className=\"grid grid-cols-2 gap-2\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"w-3 h-3 rounded-full bg-green-500\"></span>\n                  <span className=\"text-green-400 text-sm\">Easy (800-1000)</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"w-3 h-3 rounded-full bg-yellow-500\"></span>\n                  <span className=\"text-yellow-400 text-sm\">Medium (1200-1400)</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"w-3 h-3 rounded-full bg-orange-500\"></span>\n                  <span className=\"text-orange-400 text-sm\">Hard (1600-1800)</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"w-3 h-3 rounded-full bg-red-500\"></span>\n                  <span className=\"text-red-400 text-sm\">Master (2000+)</span>\n                </div>\n              </div>\n              <p className=\"text-amber-100/40 text-xs mt-3\">\n                30 curated puzzles per difficulty level\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}